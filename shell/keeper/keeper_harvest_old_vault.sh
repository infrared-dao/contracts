#!/usr/bin/env bash
source ./shell/keeper/keeper_common.sh

VAULTS=(
    "0x79fb77363bb12464ca735B0186B4bd7131089A96"
    "0x59945C5bE54FF1d8dEb0E8bC7F132F950DA910a2"
    "0xA363c16012a2fDB1F901800C589f631DB4BF3D02"
    "0x8a7324e0557e83a0Bfe6897d4BC121F9688B562d"
    "0xd7DA42280cE55529201c7f2Ff80B361664723B53"
    "0xd8c53e0E7CF3eCFE642a03A30EC30681eF4159a9"
    "0xA95Ff8097B0E405d1F4139F460fa4c89863784c0"
    "0x5614314Eef828c747602a629B1d974a3f28fF6E2"
    "0x4EF0c533D065118907f68e6017467Eb05DBb2c8C"
)
ASSETS=(
    "0xDd70A5eF7d8CfE5C5134b5f9874b09Fb5Ce812b4"
    "0xF961a8f6d8c69E7321e78d254ecAfBcc3A637621"
    "0x97431F104be73FC0e6fc731cE84486DA05C48871"
    "0x57161d6272F47cd48BA165646c802f001040C2E0"
    "0x03bCcF796cDef61064c4a2EffdD21f1AC8C29E92"
    "0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8"
    "0x2c4a603A2aA5596287A06886862dc29d56DbC354"
    "0x38fdD999Fe8783037dB1bBFE465759e312f2d809"
    "0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b"
)

IFS=, ASSETS_STR="${ASSETS[*]}"
IFS=, VAULTS_STR="${VAULTS[*]}"

forge script $SCRIPT \
    --sig "harvestOldVaults(address,address[],address[])" $SAFE "[$VAULTS_STR]" "[$ASSETS_STR]" \
    --rpc-url $RPC_URL \
    --private-key $PRIVATE_KEY \
    --ffi \
    --broadcast