set -euo pipefail

# expect PRIVATE_KEY in `.env`
source .env

RPC_URL="https://rpc.berachain.com"
SAFE="0x182a31A27A0D39d735b31e80534CFE1fCd92c38f"
INFRARED="0xb71b3DaEA39012Fb0f2B14D2a9C86da9292fC126"
IBERA="0x9b6761bf2397Bb5a6624a856cC84A3A14Dcd3fe5"
IBGT="0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b"
HONEY="0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"

WHITELIST="true"

TOKENS=(
    "0x08A38Caa631DE329FF2DAD1656CE789F31AF3142"
    # "0xBAaDcC2962417C01Af99FB2b7C75706b9bd6BABE"
    # "0x09D9420332bFf75522a45fCFf4855F82a0A3Ff50"
    # "0x9B6761bf2397bB5A6624A856cC84A3A14dcD3FE5"
    # "0x549943e04F40284185054145C6e4E9568C1d3241"
    # "0x2840F9d9f96321435AB0F977e7fdBF32ea8B304f"
    # "0x231a6bD8eB88cFA42776b7aC575ceCaf82bf1e21"
    # "0xfCbD14Dc51f0A4D49D5E53C2e0950e0bc26d0Dce"
    # "0x40a8D9EFe6A2c6c9D193cC0a4476767748e68133"
    # "0x1F7210257Fa157227D09449229A9266b0D581337"
    # "0xb749584F9fC418Cf905D54f462fDBfdc7462011B"
    # "0x0555e30DA8F98308eDB960Aa94c0DB47230D2b9C"
    # "0x2f6F07CDcf3588944Bf4C42aC74ff24bF56e7590"
    # "0x6b26f778BFae56cFB4bf9B62c678D9d40e725227"
    # "0xfF0A636dFC44bB0129B631CdD38D21b613290C98"
    # "0x6536cEAd649249CaE42fc9BFb1f999429B3EC755"
    # "0x6D4223dAe2a8744A85a6d44E97F3f61679F87Ee6"
    # "0x18878dF23E2a36f81E820e4b47B4a40576d3159c"
    # "0xaC03caBA51E17c86c921e1F6cBFbDc91f8bb2e6B"
    # "0xb8b1Af593dc37b33A2C87c8db1c9051Fc32858b7"
    # "0xD77552d3849aB4D8c3b189A9582D0ba4c1F4F912"
    # "0x541FD749419ca806A8Bc7Da8Ac23d346F2df8b77"
    # "0x2cEc7f1AC87f5345CeD3d6c74bBB61bfAE231fFB"
)

IFS=, TOKENS_STR="${TOKENS[*]}"

#  updateMultipleWhiteListedRewardTokens(
#         address safe,
#         address payable infrared,
#         address[] calldata _tokens,
#         bool _whitelisted

forge script script/InfraredMultisigGovernance.s.sol:InfraredMultisigGovernance \
    --sig "updateMultipleWhiteListedRewardTokens(address,address,address,address[],bool)" $SAFE $INFRARED $IBERA "[$TOKENS_STR]" $WHITELIST  \
    --rpc-url $RPC_URL \
    --private-key $PRIVATE_KEY \
    --ffi \
    --broadcast -vvvv