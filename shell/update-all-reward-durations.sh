set -euo pipefail

# expect PRIVATE_KEY in `.env`
source .env

RPC_URL="http://35.203.86.197:8545/"
SAFE="0x182a31A27A0D39d735b31e80534CFE1fCd92c38f"
INFRARED="0xb71b3DaEA39012Fb0f2B14D2a9C86da9292fC126"

DURATION=600
IBGT="0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b" # IBGT


# update for each vault we want
# start with 5 bex vaults earning rewards
# List of staking tokens that have a corresponding InfraredVault to harvest
STAKING_TOKENS=(
    "0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b"  # IBGT
    "0xDd70A5eF7d8CfE5C5134b5f9874b09Fb5Ce812b4"  # (50WETH-50WBERA-WEIGHTED)
    "0xF961a8f6d8c69E7321e78d254ecAfBcc3A637621"  # (USDC.e-HONEY-STABLE)
    "0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8"  # (BYUSD-HONEY-STABLE)
    "0x2c4a603A2aA5596287A06886862dc29d56DbC354"  # (50WBERA-50HONEY-WEIGHTED)
    "0x38fdD999Fe8783037dB1bBFE465759e312f2d809"  # (50WBTC-50WBERA-WEIGHTED)
    "0xA4d6d4e667efFE07f0C6777399721Ddd03f04630"  # dolomite assets
    "0x7f2B60fDff1494A0E3e060532c9980d7fad0404B"
    "0x90C65009504C8DDA1A78cA24fe5D80264A568aab"
    "0x474F32Eb1754827C531C16330Db07531e901BcBe"
    "0x341AB1EF96517E88F276c8455eF5e6a6e1Fb2958"
    "0xE6dE202a0d14af12b298b6c07CB8653d1c2E12dD"
    "0x6b644e825E0E0154b2F6B9fF0CEC0DA527f63269"
    "0x3000C6BF0AAEb813e252B584c4D9a82f99e7a71D"
    "0x5185D57c303f5cB2CF1cFC1F251264f65BA7D534"
    "0xA73e05d03E612c41a0b350fCA180c5D5a8Bc884b"
    "0xbE939e5aFB703E4Ff25058A105CA0bf078edEe21"
    "0xA8Cb3818Fa799018bc862ADE08F8a37e08BA1062"
    "0xB089044EC7DC233736F98B1a410d3B9e559A7932"
    "0x9875ec2a91aE0445a3D365C242987D3f7b81C2A4"
    "0x426f6E1a8a8e43A64CcAF651790fA81d077a1017"
    "0xd6eb8ae479EdF452d264493708c85AA798CCCdFd"
    "0x16DC2EAb270C74EBc2B963d1461b54Da98fA113e"
    "0x529798C3aC58C14cF0f828af94ABc59D5deDb96e"
    "0x0d1A3CE611CE10b72d4A14DaE2A4443855B6DFc3"
    "0xD628b5aBD6829896134FfdAeeA8393dc531A1Efd"
    "0x444868B6e8079ac2c55eea115250f92C2b2c4D14"
    "0xF2d2d55Daf93b0660297eaA10969eBe90ead5CE8"
    "0xAa97D791Afc02AF30cf0B046172bb05b3c306517"
    "0x29cF6e8eCeFb8d3c9dd2b727C1b7d1df1a754F6f"
    "0xf7b5127B510E568fdC39e6Bb54e2081BFaD489AF"
    "0x538882fC289F33E87E4b24142CcFB4B8EFba7678"
    "0xC6AdB1e9cb781b9573B2cB83809E318D9619BC74"
    "0x054AaE186C130006c65A634e0d63EFE3132034FA"
    "0xf6c6Be0FF6d6F70A04dBE4F1aDE62cB23053Bd95"  # kodiak assets
    "0xf6b16E73d3b0e2784AAe8C4cd06099BE65d092Bf"
    "0x58FDB6EEbf7df7Ce4137994436fb0e629Bb84b84"
    "0xb73deE52F38539bA854979eab6342A60dD4C8c03"
    "0x12C195768f65F282EA5F1B5C42755FBc910B0D8F"
    "0xE5A2ab5D2fb268E5fF43A5564e44c3309609aFF9"
    "0xD5B6EA3544a51BfdDa7E6926BdF778339801dFe8"
    "0x74E852a4f88bfbEff01275bB95d5ed77f2967d12"
    "0x933b2e6a71edBF11BBA75C5Ad241D246b145E0b0"
    "0x78F87aA41a4C32a619467d5B36e0319F3EAf2DA2"
    "0xbfbEfcfAE7a58C14292B53C2CcD95bF2c5742EB0"
    "0x7CeBCc76A2faecC0aE378b340815fcbb71eC1Fe0"
    "0x63b0EdC427664D4330F72eEc890A86b3F98ce225"
    "0x7fd165B73775884a38AA8f2B384A53A3Ca7400E6"
    "0x03bCcF796cDef61064c4a2EffdD21f1AC8C29E92"
    "0x57161d6272F47cd48BA165646c802f001040C2E0"
    "0x97431F104be73FC0e6fc731cE84486DA05C48871"
    "0xba4d7a7dF1999D6F29DE133872CDDD5Cb46C6694"
    "0xB67D60fc02E0870EdDca24D4fa8eA516c890152b"
    "0x502eED2a3a88Ffd2B49d7f5018C7Ca9965C43e95"
    "0x3879451f4f69F0c2d37CaD45319cFf2E7d29C596"
    "0x43E487126c4F37D1915cF02a90B5C5295AFb1790"
    "0x72768fED7f56CA010974aAB65e1467AC8567902C"
    "0xc64794dc7c550B9A4a8F7cAF68e49F31C0269D90"
    "0x377daaf5043eBDBDf15e79edB143D7e2df2ecF4A"
    "0x069759428dBf32DE4cFa2d107F5205D5BbdCd02F"
    "0x7428f72B70226b6C98DDBe14f80Ea23336528B1a"
    "0x42930C47C681d4C78692aE8A88Eb277e494fDd27"
    "0x7297485557E5488Ff416A8349aF29717dF7AE625"
    "0xbC865D60eCCeC3b412a32f764667291C54C93736"
    "0xA91D046D26b540c875Bc3CC785181A270bC37704"
    "0x1d5224Aff66EbB2Cf46De98f69A5982f650F098c"
    "0xadD169f7E0905fb2e78cDFBee155c975Db0F2cbe"
    "0xEFb340d54D54E1C4E3566878a5D64A3a591e12A3"
    "0xFF619BDaeDF635251c3aF5BFa82bcaf856C95cC3"
    "0xba86cd31c9e142ed833748ab6304e82a48d34b32"
    "0xf8163EaC4c0239a81a7d8BD05B8e14498a5fD880"
)

IFS=, STAKING_TOKENS_STR="${STAKING_TOKENS[*]}"

forge script script/InfraredMultisigGovernance.s.sol:InfraredMultisigGovernance \
    --sig "updateRewardDurationsForAllVaults(address,address,address[],address,uint256)" $SAFE $INFRARED "[$STAKING_TOKENS_STR]" $IBGT $DURATION \
    --rpc-url $RPC_URL \
    --private-key $PRIVATE_KEY \
    --ffi \
    --broadcast 


